using from '../../db/t0';
using from '../cf/saas-provisioning-service';

@path     : '/-/cds/jobs'
@protocol : 'rest'
@impl     : '@sap/cds-mtxs/srv/jobs/jobs-service.js'
service cds.xt.JobsService {

  @open action enqueue(tenants: array of String, op: String, args: {}, options: {}) returns Jobs;

  @open function pollJob(ID: String) returns {};
  @open function pollTask(ID: String) returns {};

  @readonly entity Jobs  as projection on cds.xt.Jobs;
  @readonly entity Tasks as projection on cds.xt.Tasks;
}
